{"version":3,"sources":["webpack:///./src/views/Login.vue?be54","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","active","expression","login","$set","on","todoLogin","_v","$event","$toast","register","todoRegister","staticRenderFns","data","methods","$axios","post","then","res","type","sessionStorage","userInfo","JSON","stringify","token","username","setTimeout","component"],"mappings":"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","file":"js/chunk-2d2086b7.7d50c2f1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Head',{attrs:{\"title\":\"登录/注册\",\"show\":true}}),_c('van-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"登录\"}},[_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"用户名\",\"right-icon\":\"question-o\",\"placeholder\":\"请输入用户名/手机号\"},model:{value:(_vm.login.keys),callback:function ($$v) {_vm.$set(_vm.login, \"keys\", $$v)},expression:\"login.keys\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"required\":\"\"},model:{value:(_vm.login.password),callback:function ($$v) {_vm.$set(_vm.login, \"password\", $$v)},expression:\"login.password\"}}),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.todoLogin}},[_vm._v(\"马上登录\")])],1)],1),_c('van-tab',{attrs:{\"title\":\"注册\"}},[_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"用户名\",\"right-icon\":\"question-o\",\"placeholder\":\"请输入用户名\"},on:{\"click-right-icon\":function($event){return _vm.$toast('请输入4位长度的用户名')}},model:{value:(_vm.register.username),callback:function ($$v) {_vm.$set(_vm.register, \"username\", $$v)},expression:\"register.username\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"type\":\"tel\",\"label\":\"手机号\",\"placeholder\":\"请输入手机号\",\"right-icon\":\"question-o\"},on:{\"click-right-icon\":function($event){return _vm.$toast('请输入11位长度的手机号')}},model:{value:(_vm.register.mobile),callback:function ($$v) {_vm.$set(_vm.register, \"mobile\", $$v)},expression:\"register.mobile\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"required\":\"\",\"right-icon\":\"question-o\"},on:{\"click-right-icon\":function($event){return _vm.$toast('请输入6-12位长度的密码')}},model:{value:(_vm.register.password),callback:function ($$v) {_vm.$set(_vm.register, \"password\", $$v)},expression:\"register.password\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"required\":\"\",\"clearable\":\"\",\"label\":\"确认密码\",\"placeholder\":\"请输入确认密码\"},model:{value:(_vm.register.dbpwd),callback:function ($$v) {_vm.$set(_vm.register, \"dbpwd\", $$v)},expression:\"register.dbpwd\"}}),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.todoRegister}},[_vm._v(\"立即注册\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Head title=\"登录/注册\" :show=\"true\"></Head>\r\n    <van-tabs v-model=\"active\">\r\n      <van-tab title=\"登录\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"login.keys\"\r\n            required\r\n            clearable\r\n            label=\"用户名\"\r\n            right-icon=\"question-o\"\r\n            placeholder=\"请输入用户名/手机号\"\r\n          />\r\n          <van-field\r\n            v-model=\"login.password\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            placeholder=\"请输入密码\"\r\n            required\r\n          />\r\n          <van-button @click=\"todoLogin\" type=\"primary\" size=\"large\">马上登录</van-button>\r\n        </van-cell-group>\r\n      </van-tab>\r\n      <van-tab title=\"注册\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"register.username\"\r\n            required\r\n            clearable\r\n            label=\"用户名\"\r\n            right-icon=\"question-o\"\r\n            placeholder=\"请输入用户名\"\r\n            @click-right-icon=\"$toast('请输入4位长度的用户名')\"\r\n          />\r\n          <van-field\r\n            v-model=\"register.mobile\"\r\n            required\r\n            clearable\r\n            type=\"tel\"\r\n            label=\"手机号\"\r\n            placeholder=\"请输入手机号\"\r\n            right-icon=\"question-o\"\r\n            @click-right-icon=\"$toast('请输入11位长度的手机号')\"\r\n          />\r\n          <van-field\r\n            v-model=\"register.password\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            placeholder=\"请输入密码\"\r\n            required\r\n            right-icon=\"question-o\"\r\n            @click-right-icon=\"$toast('请输入6-12位长度的密码')\"\r\n          />\r\n          <van-field\r\n            v-model=\"register.dbpwd\"\r\n            type=\"password\"\r\n            required\r\n            clearable\r\n            label=\"确认密码\"\r\n            placeholder=\"请输入确认密码\"\r\n          />\r\n          <van-button @click=\"todoRegister\" type=\"primary\" size=\"large\">立即注册</van-button>\r\n        </van-cell-group>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {mapMutations} from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      active: 0,\r\n      login: {},\r\n      register: {}\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations(['changeUserInfo']),\r\n    //注册\r\n    todoRegister() {\r\n      this.$axios.post(\"vue/register\", this.register).then(res => {\r\n        //type 0注册失败 1注册成功\r\n        if (!!res.data.type) {\r\n          this.active = 0; //跳到登录页\r\n        } else {\r\n          //注册失败\r\n        }\r\n        this.register = {}; //清空注册信息\r\n      });\r\n    },\r\n    //登录\r\n    todoLogin() {\r\n      this.$axios.post(\"vue/login\", this.login).then(res => {\r\n        //type 0登录失败 1登录成功\r\n        if (!!res.data.type) {\r\n          //存本地session\r\n          sessionStorage.userInfo = JSON.stringify({\r\n            token: res.data.token,\r\n            username:this.login.keys\r\n          });\r\n\r\n          //存vuex\r\n          this.changeUserInfo({\r\n            token: res.data.token,\r\n            username:this.login.keys\r\n          })\r\n\r\n          //登录成功跳转到个人中心页\r\n          setTimeout(() => {\r\n            this.$router.push({ name: \"mine\" });\r\n          }, 600);\r\n        } else {\r\n          //登录失败 清楚session数据\r\n          sessionStorage.userInfo = JSON.stringify({ token: \"\" });\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=10859c80&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}