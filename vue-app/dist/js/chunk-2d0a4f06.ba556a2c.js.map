{"version":3,"sources":["webpack:///./src/views/Classify.vue?7683","webpack:///src/views/Classify.vue","webpack:///./src/views/Classify.vue?a8b5","webpack:///./src/views/Classify.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","activeName","expression","_l","type","i","key","text","goodList","filter","item","on","getNewGoodList","staticRenderFns","computed","data","mounted","$axios","get","then","getTypeList","methods","reverse","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAO,KAAQF,EAAG,WAAW,CAACG,MAAM,CAACC,MAAOR,EAAc,WAAES,SAAS,SAAUC,GAAMV,EAAIW,WAAWD,GAAKE,WAAW,eAAeZ,EAAIa,GAAIb,EAAY,SAAE,SAASc,EAAKC,GAAG,OAAOX,EAAG,UAAU,CAACY,IAAID,EAAET,MAAM,CAAC,MAAQQ,EAAKG,KAAK,KAAOH,EAAKN,QAAQ,CAACJ,EAAG,OAAO,CAACE,MAAM,CAAC,MAAQN,EAAIkB,SAASC,OAAO,SAAUC,GAAO,OAAOA,EAAKN,KAAKN,OAAOM,EAAKN,SAAWa,GAAG,CAAC,eAAiBrB,EAAIsB,mBAAmB,KAAK,IAAI,IACphBC,EAAkB,G,8mBCWtB,OACEC,SAAF,KACA,yCAEEC,KAJF,WAKI,MAAO,CACLd,WAAY,KAKhBe,QAXF,WAWA,WAEA,sBACMzB,KAAK0B,OAAOC,IAAI,iBAAiBC,KAAK,SAA5C,GACQ,EAAR,6BAMA,sBACM5B,KAAK6B,YAAY,CAAvB,2CAQEC,QAAS,EAAX,GACA,gCADA,GAEA,gCAFA,CAGIT,eAHJ,WAIMrB,KAAKiB,SAASc,cC9C8T,I,YCO9UC,EAAY,eACd,EACAlC,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAU,E","file":"js/chunk-2d0a4f06.ba556a2c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Head',{attrs:{\"title\":\"分类\",\"show\":true}}),_c('van-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.typeList),function(type,i){return _c('van-tab',{key:i,attrs:{\"title\":type.text,\"name\":type.value}},[_c('list',{attrs:{\"goods\":_vm.goodList.filter(function (item){ return item.type.value==type.value; })},on:{\"changeallgoods\":_vm.getNewGoodList}})],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Head title=\"分类\" :show=\"true\"></Head>\r\n    <van-tabs v-model=\"activeName\">\r\n      <van-tab v-for=\"(type,i) in typeList\" :key=\"i\" :title=\"type.text\" :name=\"type.value\">\r\n        <list :goods=\"goodList.filter(item=>item.type.value==type.value)\" @changeallgoods=\"getNewGoodList\"></list>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {mapState,mapMutations,mapActions} from 'vuex'\r\nexport default {\r\n  computed:{\r\n    ...mapState(['goodList','typeList'])\r\n  },\r\n  data() {\r\n    return {\r\n      activeName: \"\",\r\n      // goodList: [],\r\n      // typeList: []\r\n    };\r\n  },\r\n  mounted() {\r\n    //获取商品列表\r\n    if(!this.goodList.length){\r\n      this.$axios.get(\"/vue/getGoods\").then(res => {\r\n        this.getGoodList(res.data.result);\r\n        // this.goodList = res.data.result;\r\n      });\r\n    }\r\n    \r\n    //获取商品分类列表\r\n    if(!this.typeList.length){\r\n      this.getTypeList({url:\"/vue/getGoodTypes\",cb:()=>{\r\n        //此处可以写回调\r\n      }})\r\n    }\r\n    // this.$axios.get(\"/vue/getGoodTypes\").then(res => {\r\n    //   this.typeList = res.data.result;\r\n    // });\r\n  },\r\n  methods: {\r\n    ...mapMutations(['getGoodList']),\r\n    ...mapActions(['getTypeList']),\r\n    getNewGoodList(){\r\n      this.goodList.reverse();\r\n    },\r\n    // onLoad() {\r\n    //   //异步数据更新\r\n    //   this.$axios.get(\"/vue/getGoods\", { params: { limit: 10 } }).then(res => {\r\n    //     console.log(this.goodList);\r\n    //     this.goodList= this.goodList.concat(res.data.result);\r\n    //     this.loading = false;\r\n    //     // 数据全部加载完成\r\n    //     if (this.goodList.length >= 40) {\r\n    //       this.finished = true;\r\n    //     }\r\n    //   });\r\n    // }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Classify.vue?vue&type=template&id=502ca1a3&\"\nimport script from \"./Classify.vue?vue&type=script&lang=js&\"\nexport * from \"./Classify.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}